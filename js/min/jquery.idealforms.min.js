/*--------------------------------------------------------------------------

  jq-idealforms 2.0

  * Author: Cedric Ruiz
  * License: GPL or MIT
  * Demo: http://elclanrs.github.com/jq-idealforms/
  *

--------------------------------------------------------------------------*/(function(e){"use strict";e.idealforms={};var t={getMaxWidth:function(t){var n=0;return t.each(function(){e(this).outerWidth()>n&&(n=e(this).outerWidth())}),n},getMaxHeight:function(t){var n=0;return t.each(function(){e(this).outerHeight()>n&&(n=e(this).outerHeight())}),n},getLessVar:function(t,n){var r=e('<p class="'+t+'"></p>').hide().appendTo("body").css(n);return e("."+t).remove(),/^\d+/.test(r)?parseInt(r,10):r},getKeys:function(e){var t=[];for(var n in e)t.push(n);return t},isFunction:function(e){return typeof e=="function"},isRegex:function(e){return e instanceof RegExp},getByNameOrId:function(t){if(e('[name="'+t+'"]').length)return e('[name="'+t+'"]');if(e('[name="'+t+'"]').length)return e("#"+t);e.error('The field "'+t+"\" doesn't exist.")},getIdealType:function(e){var t=e.attr("type")||e[0].tagName.toLowerCase();return/(text|password|email|number|search|url|tel)/.test(t)&&"text"||/file/.test(t)&&"file"||/select/.test(t)&&"select"||/(radio|checkbox)/.test(t)&&"radiocheck"||/(button|submit|reset)/.test(t)&&"button"||/h\d/.test(t)&&"description"||/hr/.test(t)&&"separator"},makeInput:function(e,t,n,r){var i,s=[],o,u;/(text|password|email|number|search|url|tel|file)/.test(t)&&(i='<input type="'+t+'" '+'id="'+e+'" '+'name="'+e+'" '+(r&&'placeholder="'+r+'"')+"/>");if(/select/.test(t)){s=[];for(o=0,u=n.length;o<u;o++)s.push('<option value="'+n[o]+'">'+n[o]+"</option>");i='<select id="'+e+'" name="'+e+'">'+s.join("")+"</select>"}if(/(radio|checkbox)/.test(t)){s=[];for(o=0,u=n.length;o<u;o++)s.push('<label><input type="'+t+'" name="'+e+'" value="'+n[o]+'" />'+n[o]+"</label>");i=s.join("")}return i}};e.fn.tabs=function(t){var n=e.extend({tabContainer:""},t),r=this,i=e(n.tabContainer),s=e('<ul class="ideal-tabs-wrap"/>'),o=function(){var t=[];return r.each(function(){var n=e(this),r=n.attr("name"),i='<li class="ideal-tabs-tab"><span>'+r+"</span>"+'<i class="ideal-tabs-tab-counter ideal-tabs-tab-counter-zero">0</i>'+"</li>";t.push(i)}),e(t.join(""))}(),u={getCurIdx:function(){return o.filter(".ideal-tabs-tab-active").index()},getTabIdxByName:function(t){var n=new RegExp(t,"i"),r=o.filter(function(){return n.test(e(this).text())}),i=r.index();return i}},a={switchTab:function(t){var n=e.extend({name:"",idx:null},t),i=n.idx!==null?n.idx:u.getTabIdxByName(n.name);o.removeClass("ideal-tabs-tab-active"),o.eq(i).addClass("ideal-tabs-tab-active"),r.eq(i).is(":visible")||r.hide().eq(i).css("visibility","hidden").show().fadeTo(0,0).delay(150).css("visibility","visible").fadeTo("normal",1)},nextTab:function(){var e=u.getCurIdx()+1;e>o.length-1?a.firstTab():a.switchTab({idx:e})},prevTab:function(){var e=u.getCurIdx()-1;a.switchTab({idx:e})},firstTab:function(){a.switchTab({idx:0})},lastTab:function(){a.switchTab({idx:o.length-1})},updateCounter:function(e,t){var n=u.getTabIdxByName(e),r=o.eq(n).find(".ideal-tabs-tab-counter");r.removeClass("ideal-tabs-tab-counter-zero"),t||r.addClass("ideal-tabs-tab-counter-zero"),r.attr("title","Invalid fields").html(t)}};for(var f in a)r[f]=a[f];return o.first().addClass("ideal-tabs-tab-active").end().click(function(){var t=e(this).text();r.switchTab({name:t})}),s.append(o).appendTo(i),r.addClass("ideal-tabs-content").each(function(){var t=e(this),n=e(this).attr("name");t.data("ideal-tabs-content-name",n).removeAttr("name")}).hide().first().show(),r},e.fn.toCustomSelect=function(){return this.each(function(){var n=e(this),r=function(){var t=n.find("option"),r=e('<ul class="ideal-select '+n.attr("name")+'"/>'),i=e('<li><span class="title">'+t.filter(":selected").text()+"</span></li>"),s=function(){var n=[];return t.each(function(){var t=e(this);n.push('<li class="item" ideal-value="'+t.val()+'">'+t.text()+"</li>")}),n}();return i.append('<ul class="sub">'+s.join("")+"</ul>"),r.append(i),{options:t,select:r,title:i.find(".title"),sub:i.find(".sub"),items:i.find(".sub li")}}(),i={init:function(){n.css({position:"absolute",left:"-9999px"}),r.select.insertAfter(n),r.select.css("min-width",t.getMaxWidth(r.items)),r.sub.hide(),r.items.eq(r.options.filter(":selected").index()).addClass("selected")}(),noWindowScroll:function(e){(e.which===40||e.which===38||e.which===13)&&e.preventDefault()},focusHack:function(){setTimeout(function(){n.trigger("focus")},1)},focus:function(){r.select.addClass("focus"),e(document).on("keydown.noscroll",i.noWindowScroll)},blur:function(){r.select.removeClass("open focus"),e(document).off(".noscroll")},scrollIntoView:function(e){var t=r.items.filter(".selected"),n=t.outerHeight(),i=r.sub.outerHeight(),s=function(){var r=t.position().top+n;return e==="down"?r<=i:r>0}();s||(n=e==="down"?n:-n,r.sub.scrollTop(r.sub.scrollTop()+n))},scrollToItem:function(){var e=r.items.filter(".selected").index(),t=r.items.outerHeight(),n=r.items.length,i=t*n,s=t*(n-e);r.sub.scrollTop(i-s)},showMenu:function(){r.sub.fadeIn("fast"),r.select.addClass("open"),i.select(r.options.filter(":selected").index()),i.scrollToItem()},hideMenu:function(){r.sub.hide(),r.select.removeClass("open")},select:function(e){r.items.removeClass("selected"),r.items.eq(e).addClass("selected")},change:function(e){var t=r.items.eq(e).text();i.select(e),r.title.text(t),r.options.eq(e).prop("selected",!0),n.trigger("change")},keydown:function(t){var n=r.items.filter(".selected").index(),s={9:function(){r.select.is(".menu")&&(i.blur(),i.hideMenu())},13:function(){r.select.is(".menu")&&(r.select.is(".open")?i.hideMenu():i.showMenu()),i.change(n)},27:function(){r.select.is(".menu")&&i.hideMenu()},40:function(){n<r.options.length-1&&(r.select.is(".open")?i.select(n+1):i.change(n+1)),i.scrollIntoView("down")},38:function(){n>0&&(r.select.is(".open")?i.select(n-1):i.change(n-1)),i.scrollIntoView("up")},"default":function(){var n=String.fromCharCode(t),s=r.items.filter(".selected").parent().index(),o=r.items.filter(function(){var t=new RegExp("^"+n,"i");return t.test(e(this).text())}).first().index();i.change(~o?o:s),i.scrollToItem(),i.focusHack()}};s[t]?s[t]():s["default"]()}},s={focus:i.focus,"blur.menu":function(){i.blur(),i.hideMenu()},"blur.list":function(){i.blur()},keydown:function(e){i.keydown(e.which)},"clickItem.menu":function(){i.change(e(this).index()),i.hideMenu()},"clickItem.list":function(){i.change(e(this).index())},"clickTitle.menu":function(){i.focus(),i.showMenu(),n.trigger("focus")},"hideOutside.menu":function(){n.off("blur.menu"),e(document).on("mousedown.ideal",function(t){e(t.target).closest(r.select).length?i.focusHack():(e(document).off("mousedown.ideal"),n.on("blur.menu",s["blur.menu"]))})},"mousedown.list":function(){i.focusHack()}},o=function(){r.select.removeClass("menu list"),n.off(".menu .list"),r.items.off(".menu .list"),r.select.off(".menu .list"),r.title.off(".menu .list")};r.select.on("menu",function(){o(),r.select.addClass("menu"),i.hideMenu(),n.on({"blur.menu":s["blur.menu"],"focus.menu":s.focus,"keydown.menu":s.keydown}),r.select.on("mousedown.menu",s["hideOutside.menu"]),r.items.on("click.menu",s["clickItem.menu"]),r.title.on("click.menu",s["clickTitle.menu"])}),r.select.on("list",function(){o(),r.select.addClass("list"),i.showMenu(),n.on({"blur.list":s["blur.list"],"focus.list":s.focus,"keydown.list":s.keydown}),r.select.on("mousedown.list",s["mousedown.list"]),r.items.on("mousedown.list",s["clickItem.list"])}),r.select.on("reset",function(){i.change(0)}),r.select.trigger("menu")})},e.fn.toCustomRadioCheck=function(){return this.each(function(){var t=e(this),n=e("<span/>");t.is(":checkbox")?n.addClass("ideal-check"):n.addClass("ideal-radio"),t.is(":checked")&&n.addClass("checked"),n.insertAfter(t),e(this).parent("label").attr("onclick",""),t.css({position:"absolute",left:"-9999px"}).on({change:function(){var t=e(this);t.trigger("focus"),t.is(":radio")?(t.parent().siblings("label").children(".ideal-radio").removeClass("checked"),t.is(":checked")&&t.next(".ideal-radio").addClass("checked")):t.is(":checked")?n.addClass("checked"):n.removeClass("checked")},focus:function(){n.parent().addClass("focus")},blur:function(){n.parent().removeClass("focus")},click:function(){e(this).trigger("focus")}})})},e.fn.toCustomFile=function(){return this.each(function(){var t=e(this),n=e('<div class="ideal-file-wrap">'),r=e('<input type="text" class="ideal-file-filename" />'),i=e('<button type="button" class="ideal-file-upload">Open</button>');t.css({position:"absolute",left:"-9999px"}),i.attr("tabIndex",-1).click(function(){t.trigger("click")}),t.attr("tabIndex",-1).on({change:function(){var n=typeof e("input")[0].multiple!="undefined",i=[],s,o;if(n){s=t[0].files;for(var u=0,a=s.length;u<a;u++)i.push(s[u].name);o=i.join(", ")}else o=t.val().split("\\").pop();r.val(o),r.attr("title",o)},focus:function(){r.trigger("focus")}}),r.on({keyup:function(){t.trigger("change")},focus:function(){t.trigger("change")},blur:function(){t.trigger("blur")},keydown:function(e){e.which===13&&t.trigger("click"),(e.which===8||e.which===46)&&t.val("")}}),n.append(i,r).insertAfter(t)})},e.idealforms.errors={required:"This field is required.",number:"Must be a number.",digits:"Must be only digits.",name:"Must be at least 3 characters long, and must only contain letters.",username:"Must be at between 4 and 32 characters long and start with a letter. You may use letters, numbers, underscores, and one dot (.)",pass:"Must be at least 6 characters long, and contain at least one number, one uppercase and one lowercase letter.",strongpass:"Must be at least 8 characters long and contain at least one uppercase and one lowercase letter and one number or special character.",email:"Must be a valid e-mail address. <em>(e.g. user@gmail.com)</em>",phone:"Must be a valid US phone number. <em>(e.g. 555-123-4567)</em>",zip:"Must be a valid US zip code. <em>(e.g. 33245 or 33245-0003)</em>",url:"Must be a valid URL. <em>(e.g. www.google.com)</em>",min:"Must be at least <strong>{0}</strong> characters long.",minOption:"Check at least <strong>{0}</strong> options.",max:"No more than <strong>{0}</strong> characters long.",maxOption:"No more than <strong>{0}</strong> options allowed.",date:"Must be a valid date. <em>(e.g. {0})</em>",exclude:'"{0}" is not available.',excludeOption:"{0}",equalto:'Must be the same value as <strong>"{0}"</strong>',extension:'File(s) must have a valid extension. <em>(e.g. "{0}")</em>'};var n=function(){return{required:{error:e.idealforms.errors.required},number:{regex:/\d+/,error:e.idealforms.errors.number},digits:{regex:/^\d+$/,error:e.idealforms.errors.digits},name:{regex:/^[A-Za-z]{3,}$/,error:e.idealforms.errors.name},username:{regex:/^[a-z](?=[\w.]{3,31}$)\w*\.?\w*$/i,error:e.idealforms.errors.username},pass:{regex:/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/,error:e.idealforms.errors.pass},strongpass:{regex:/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/,error:e.idealforms.errors.strongpass},email:{regex:/[^@]+@[^@]/,error:e.idealforms.errors.email},phone:{regex:/^[2-9]\d{2}-\d{3}-\d{4}$/,error:e.idealforms.errors.phone},zip:{regex:/^\d{5}$|^\d{5}-\d{4}$/,error:e.idealforms.errors.zip},url:{regex:/^(?:(ftp|http|https):\/\/)?(?:[\w\-]+\.)+[a-z]{3,6}$/i,error:e.idealforms.errors.url},min:{regex:function(t,n){var r=t.input,i=t.userOptions.data.min;return r.is('[type="checkbox"], [type="radio"], select')?(this.error=e.idealforms.errors.minOption.replace("{0}",i),r.filter(":checked").length>=i):(this.error=e.idealforms.errors.min.replace("{0}",i),n.length>=i)}},max:{regex:function(t,n){var r=t.input,i=t.userOptions.data.max;return r.is('[type="checkbox"], [type="radio"], select')?(this.error=e.idealforms.errors.maxOption.replace("{0}",i),r.filter(":checked").length<=i):(this.error=e.idealforms.errors.max.replace("{0}",i),n.length<=i)}},date:{regex:function(t,n){var r=t.userOptions.data&&t.userOptions.data.date?t.userOptions.data.date:"mm/dd/yyyy",i=/[^mdy]/.exec(r)[0],s=r.split(i),o=n.split(i),u=function(e,t){var n,r,i;for(var s=0,o=t.length;s<o;s++)/m/.test(t[s])&&(n=e[s]),/d/.test(t[s])&&(r=e[s]),/y/.test(t[s])&&(i=e[s]);return n>0&&n<13&&i&&i.length===4&&r>0&&r<=(new Date(i,n,0)).getDate()};return this.error=e.idealforms.errors.date.replace("{0}",r),u(o,s)}},exclude:{regex:function(t,n){var r=t.input;return r.is('[type="checkbox"], [type="radio"], select')?this.error=e.idealforms.errors.excludeOption.replace("{0}",n):e.idealforms.errors.exclude.replace("{0}",n),!~e.inArray(n,t.userOptions.data.exclude)}},equalto:{regex:function(t,n){var r=e(t.userOptions.data.equalto),i=t.input,s=r.attr("name")||r.attr("id"),o=r.parents(".ideal-field").filter(function(){return e(this).data("isValid")===!0}).length;return o?(this.error=e.idealforms.errors.equalto.replace("{0}",s),i.val()===r.val()):!1}},extension:{regex:function(t,n){var r=t.input[0].files||[{name:n}],i=t.userOptions.data.extension,s=new RegExp("\\."+i.join("|")+"$","i"),o=!1;for(var u=0,a=r.length;u<a;u++)o=s.test(r[u].name)?!0:!1;return this.error=e.idealforms.errors.extension.replace("{0}",i.join('", "')),o}}}},r={noerror:function(e){e.parent().siblings(".error").hide()},noicons:function(e){e.siblings(".valid-icon, .invalid-icon").hide()},novalidicon:function(e){e.siblings(".valid-icon").hide()},noinvalidicon:function(e){e.siblings(".invalid-icon").hide()},noclass:function(e){e.parents(".ideal-field").removeClass("valid invalid")},novalidclass:function(e){e.parents(".ideal-field").removeClass("valid")},noinvalidclass:function(e){e.parents(".ideal-field").removeClass("invalid")}};e.fn.idealforms=function(i){var s=this,o=e.extend({inputs:{},customFilters:{},customFlags:{},globalFlags:"",onSuccess:function(e){alert("Thank you...")},onFail:function(){alert(s.getInvalid().length+" invalid fields.")},responsiveAt:"auto",customInputs:!0},i),u=function(){var e=!1,t=s.find("section");return t.length&&(s.prepend('<div class="ideal-wrap ideal-tabs"/>'),e=t.tabs({tabContainer:".ideal-tabs"}),s.find(".ideal-tabs-wrap").addClass("ideal-full-width")),e}(),a=n(),f=function(){return{inputs:s.find("input, select, textarea, :button"),labels:s.find("div > label:first-child"),text:s.find('input:not([type="checkbox"], [type="radio"]), textarea'),select:s.find("select"),radiocheck:s.find('input[type="radio"], input[type="checkbox"]'),buttons:s.find(":button"),file:s.find('input[type="file"]'),headings:s.find("h1, h2, h3, h4, h5, h6, p"),separators:s.find("hr")}},l=function(){return e('[name="'+t.getKeys(o.inputs).join('"], [name="')+'"],'+"."+t.getKeys(a).join(", ."))},c={fieldWidth:t.getLessVar("ideal-field-width","width")},h={getCurrentTab:function(t){var n=t.parents(".ideal-tabs-content"),r=n.data("ideal-tabs-content-name"),i=e(n.find(".ideal-field").parents(".ideal-wrap").get().reverse());return{content:n,name:r,fields:i}},getTab:function(t){return u.filter(function(){var n=new RegExp(t,"i");return n.test(e(this).data("ideal-tabs-content-name"))})},doMarkup:function(n){var r=t.getIdealType(n),i=function(){var t=e('<span class="error" />'),r=e('<i class="icon valid-icon" />'),i=e("<i/>",{"class":"icon invalid-icon",click:function(){var t=e(this);t.siblings("label").length?t.siblings("label:first").find("input").focus():t.siblings("input, select, textarea").focus()}});n.parents(".ideal-field").append(r.add(i).hide()).after(t.hide())},s={"default":e.noop,defaultInput:function(){n.wrapAll('<span class="ideal-field"/>'),i()},button:function(){o.customInputs&&n.addClass("ideal-button")},file:function(){s.defaultInput(),o.customInputs&&n.toCustomFile()},select:function(){s.defaultInput(),o.customInputs&&n.toCustomSelect()},text:function(){s.defaultInput()},radiocheck:function(){var e=n.parents(".ideal-field").length,t=n.parent().siblings("label:not(:first)").andSelf();o.customInputs&&n.toCustomRadioCheck();if(!!e)return!1;t.wrapAll('<span class="ideal-field ideal-radiocheck"/>'),i()},description:function(){var e=n.parents(".ideal-field").length,t=n.siblings().andSelf();e||t.wrapAll('<span class="ideal-heading ideal-full-width"/>')},separator:function(){n.wrapAll('<div class="ideal-separator ideal-full-width"/>')}};n.closest("div").addClass("ideal-wrap"),s[r]?s[r]():s["default"]()},adjust:function(){var n=f(),r=l();n.inputs.attr("autocomplete","off"),e('[name="'+t.getKeys(o.inputs).join('"], [name="')+'"]').each(function(){this.className=o.inputs[this.name].filters}),s.find(".ideal-full-width").width(s.width()),n.labels.addClass("ideal-label").width(t.getMaxWidth(n.labels)),u.length?u.each(function(){e(this).find(".ideal-heading:first").addClass("first-child")}):s.find(".ideal-heading:first").addClass("first-child"),jQuery.ui&&s.find("input.date").each(function(){var t=o.inputs[this.name],n=t.data&&t.data.date,r=n?n.replace("yyyy","yy"):"mm/dd/yy";e(this).datepicker({dateFormat:r,beforeShow:function(t){e(t).addClass("open")},onChangeMonthYear:function(){var t=e(this).outerWidth();setTimeout(function(){e(this).datepicker("widget").width(t)},1)},onClose:function(){e(this).removeClass("open")}})}).on("focus keyup",function(){var t=e(this),n=t.outerWidth();t.datepicker("widget").width(n)}).parent().siblings(".error").addClass("hidden"),"placeholder"in e("<input/>")[0]||n.text.each(function(){e(this).val(e(this).attr("placeholder"))}).on({focus:function(){this.value===e(this).attr("placeholder")&&e(this).val("")},blur:function(){e(this).val()||e(this).val(e(this).attr("placeholder"))}})},init:function(){var t=f();s.css("visibility","visible").addClass("ideal-form"),s.attr("novalidate","novalidate"),jQuery.ui&&(e.datepicker._checkOffset=function(e,t,n){return t}),t.inputs.add(t.headings).add(t.separators).each(function(){h.doMarkup(e(this))}),h.adjust()},validate:function(e,n){var r=!0,i="",s=e.input,o=e.userOptions,u=o.filters;if(u){!n&&/required/.test(u)&&(i=o.errors&&o.errors.required?o.errors.required:a.required.error,r=!1);if(n){u=u.split(/\s/);for(var f=0,l=u.length;f<l;f++){var c=u[f],h=a[c]||{};if(h&&(t.isFunction(h.regex)&&!h.regex(e,n)||t.isRegex(h.regex)&&!h.regex.test(n))){r=!1,i=o.errors&&o.errors[c]||h.error;break}}}}return{isValid:r,error:i}},analyze:function(e,t){var n=e.is('[type="checkbox"], [type="radio"]'),i=function(){var t=l();return n?t.filter('[name="'+e.attr("name")+'"]'):t.filter(e)}(),a=h.getCurrentTab(i).name,f=o.inputs[e.attr("name")]||{filters:e.attr("class")},c=function(){var t=e.val();if(t===e.attr("placeholder"))return;return n?f&&" ":t}(),p=e.parents(".ideal-field"),d=p.next(".error"),v=function(){return n?e.parent().siblings(".invalid-icon"):e.siblings(".invalid-icon")}(),m=function(){return n?e.parent().siblings(".valid-icon"):e.siblings(".valid-icon")}(),g=h.validate({input:i,userOptions:f},c),y=function(){var e=f.flags?f.flags:"";return o.globalFlags&&(e+=o.globalFlags),e.split(/\s/)}(),b=function(){for(var e=0,n=y.length,s;e<n;e++){s=y[e];if(!r[s])break;r[s](i,t)}};p.removeClass("valid invalid").data("isValid",!0),d.add(v).add(m).hide(),c&&g.isValid&&(d.add(v).hide(),p.addClass("valid").data("isValid",!0),m.show()),g.isValid||(v.show(),p.addClass("invalid").data("isValid",!1),s.find(".error").hide(),t!=="blur"&&d.html(g.error).show()),u.length&&u.updateCounter(a,s.getInvalid(a).length),b()},attachEvents:function(){l().on("keyup change focus blur",function(t){h.analyze(e(this),t.type)})},responsive:function(){var t=f(),n=c.fieldWidth+t.labels.outerWidth(),r=t.labels.filter(function(){return e(this).html()==="&nbsp;"}),i=s.find(".ideal-select"),u=s.find("input.hasDatepicker");o.responsiveAt==="auto"?s.width()<n?s.addClass("stack"):s.removeClass("stack"):e(window).width()<o.responsiveAt?s.addClass("stack"):s.removeClass("stack"),s.is(".stack")?(r.hide(),i.trigger("list")):(r.show(),i.trigger("menu")),s.find(".ideal-full-width").width(s.width()),u.length&&u.datepicker("hide")}},p={addFields:function(n){n=n.reverse();var r=function(n){var r=n.name,i={filters:n.filters||"",data:n.data||{},errors:n.errors||{},flags:n.flags||""},u=n.label,a=n.type,f=n.list||"",l=n.placeholder||"",c=e("<div><label>"+u+":</label>"+t.makeInput(r,a,f,l)+"</div>"),p=c.find("input, select, textarea, :button");i.filters&&(o.inputs[r]=i),h.doMarkup(p),n.addAfter?c.insertAfter(e(t.getByNameOrId(n.addAfter)).parents(".ideal-wrap")):n.addBefore?c.insertBefore(e(t.getByNameOrId(n.addBefore)).parents(".ideal-wrap")):n.appendToTab?c.insertAfter(h.getTab(n.appendToTab).find(".ideal-wrap:last-child")):c.insertAfter(s.find(".ideal-wrap").last())};for(var i=0,u=n.length;i<u;i++)r(n[i]);return s.reload(),s},removeFields:function(n){var r=[];for(var i=0,o=n.length;i<o;i++)r.push(t.getByNameOrId(n[i]).get(0));return e(r).parents(".ideal-wrap").remove(),s},getInvalid:function(t){return t&&u.length?h.getTab(t).find(".ideal-field").filter(function(){return e(this).data("isValid")===!1}):s.find(".ideal-field").filter(function(){return e(this).data("isValid")===!1})},isValid:function(){return!s.getInvalid().length},isValidField:function(e){var n=t.getByNameOrId(e);return n.parents(".ideal-field").data("isValid")===!0},focusFirst:function(){return u.length?u.filter(":visible").find("input:first").focus():s.find("input:first").focus(),s},focusFirstInvalid:function(){var e=s.getInvalid().first(),t=e.parents(".ideal-tabs-content").data("ideal-tabs-content-name");return u.length&&u.switchTab({name:t}),e.find("input:first").focus(),s},switchTab:function(e,t){return u.switchTab({name:e,idx:t}),s},nextTab:function(){return u.nextTab(),s},prevTab:function(){return u.prevTab(),s},firstTab:function(){return u.firstTab(),s},lastTab:function(){return u.lastTab(),s},fresh:function(){var e=l();return e.blur().parents(".ideal-field").removeClass("valid invalid"),u.length&&u.firstTab(),s},reload:function(){h.adjust(),h.attachEvents()},reset:function(e){var n=f(),r,i;return e?(r=t.getByNameOrId(e),i=t.getIdealType(r),(i==="text"||i==="file")&&r.val(""),i==="radiocheck"&&r.removeAttr("checked"),i==="select"&&(r.find("option").first().prop("selected",!0),r.next(".ideal-select").trigger("reset")),r.change().blur()):(n.text.val(""),n.radiocheck.removeAttr("checked"),n.select.find("option").first().prop("selected",!0),s.find(".ideal-select").trigger("reset"),n.inputs.change().blur(),s.focusFirst()),s},submitData:function(){return s.submit(),s}};for(var d in p)s[d]=p[d];return s.on({keydown:function(e){e.which===13&&e.preventDefault()},submit:function(e){s.isValid()?o.onSuccess(e):(e.preventDefault(),o.onFail(),s.focusFirstInvalid())}}),o.responsiveAt&&(e(window).resize(h.responsive),h.responsive()),e.extend(!0,a,o.customFilters),e.extend(!0,r,o.customFlags),h.init(),h.attachEvents(),s.fresh(),this}})(jQuery);